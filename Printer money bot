â€<!DOCTYPE html>
â€<html lang="en">
â€<head>
â€<meta charset="utf-8" />
â€<meta name="viewport" content="width=device-width,initial-scale=1" />
â€<title>Money Printer Analysis</title>
â€<style>
â€Â  :root { --panel-bg: rgba(0,0,0,0.55); --muted: #ddd; }
â€Â  body{
â€Â Â Â  margin:0; font-family:Arial,Helvetica,sans-serif; color:#fff;
â€Â Â Â  background: linear-gradient(135deg, red, orange, yellow, green, blue, indigo, violet);
â€Â Â Â  background-size: 400% 400%; animation: rainbow 10s linear infinite;
â€Â Â Â  -webkit-font-smoothing:antialiased; text-align:center;
â€Â  }
â€Â  @keyframes rainbow { 0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%} }
â€Â  .wrap{ max-width:420px; margin:36px auto; padding:18px; border-radius:12px; background:var(--panel-bg); box-shadow:0 8px 30px rgba(0,0,0,0.4); }
â€Â  h1{ margin:4px 0 12px; font-size:20px; }
â€Â  input[type="text"], input[type="number"], select { width:88%; padding:10px 8px; margin:6px 0; border-radius:8px; border: none; font-size:15px; }
â€Â  .row{ display:flex; justify-content:center; gap:8px; align-items:center; flex-wrap:wrap; }
â€Â  button { padding:10px 16px; border-radius:8px; border:none; font-weight:700; cursor:pointer; }
â€Â  .btn-gen { background:#00ff88; color:#000; }
â€Â  .btn-reset { background:#ff7a7a; color:#000; }
â€Â  #result{ margin-top:14px; font-size:16px; padding:10px; color:#fff; }
â€Â  #stats{ margin-top:10px; font-size:15px; color:#ffeb3b; }
â€Â  .hint{ font-size:12px; color:var(--muted); margin-top:6px; }
â€Â  pre.sequence { background: rgba(255,255,255,0.06); padding:8px; border-radius:8px; margin-top:10px; font-size:14px; overflow-x:auto; color:#fff;}
â€Â  label.small{ font-size:13px; color:var(--muted); display:block; margin-top:6px;}
â€</style>
â€</head>
â€<body>
â€Â  <div class="wrap">
â€Â Â Â  <h1>ğŸ’¸ Money Printer Analysis</h1>
â€
â€Â Â Â  <input id="token" type="text" placeholder="Enter API Token" />
â€Â Â Â  <input id="symbol" type="text" placeholder="Enter Symbol (e.g. R_75, R_100)" />
â€
â€Â Â Â  <div class="row">
â€Â Â Â Â Â  <select id="tradeType" onchange="onTradeTypeChange()">
â€Â Â Â Â Â Â Â  <option value="matches">Matches (digit = selected)</option>
â€Â Â Â Â Â Â Â  <option value="differs">Differs (digit â‰  selected)</option>
â€Â Â Â Â Â Â Â  <option value="over">Over (digit > selected)</option>
â€Â Â Â Â Â Â Â  <option value="under">Under (digit < selected)</option>
â€Â Â Â Â Â Â Â  <option value="even">Even</option>
â€Â Â Â Â Â Â Â  <option value="odd">Odd</option>
â€Â Â Â Â Â  </select>
â€
â€Â Â Â Â Â  <input id="digit" type="number" min="0" max="9" placeholder="Digit (0â€“9)" />
â€Â Â Â  </div>
â€
â€Â Â Â  <div class="row" style="margin-top:8px;">
â€Â Â Â Â Â  <button class="btn-gen" onclick="generateOnce()">Generate</button>
â€Â Â Â Â Â  <button class="btn-reset" onclick="clearState()">Reset</button>
â€Â Â Â  </div>
â€
â€Â Â Â  <div class="hint">Digit box is required for Matches / Differs / Over / Under. It is disabled for Even/Odd.</div>
â€
â€Â Â Â  <div id="result">Click <strong>Generate</strong> to fetch the latest 10 ticks and evaluate.</div>
â€Â Â Â  <div id="stats">Most Appearing: - | Last Appearing (unique): -</div>
â€Â Â Â  <pre id="sequence" class="sequence">Last 10 digits: -</pre>
â€Â  </div>
â€
â€<script>
â€/* Helper: validate symbol/token & UI behaviours */
â€function onTradeTypeChange(){
â€Â  const t = document.getElementById('tradeType').value;
â€Â  const digitEl = document.getElementById('digit');
â€Â  if(t === 'even' || t === 'odd'){
â€Â Â Â  digitEl.value = '';
â€Â Â Â  digitEl.disabled = true;
â€Â Â Â  digitEl.placeholder = 'Not required for Even/Odd';
â€Â  } else {
â€Â Â Â  digitEl.disabled = false;
â€Â Â Â  digitEl.placeholder = 'Digit (0â€“9)';
â€Â  }
â€}
â€
â€/* Clear UI state */
â€function clearState(){
â€Â  document.getElementById('result').innerText = 'Click Generate to fetch the latest 10 ticks and evaluate.';
â€Â  document.getElementById('stats').innerText = 'Most Appearing: - | Last Appearing (unique): -';
â€Â  document.getElementById('sequence').innerText = 'Last 10 digits: -';
â€}
â€
â€/* Main: fetch 10 latest ticks history only once per click */
â€function generateOnce(){
â€Â  const token = document.getElementById('token').value.trim();
â€Â  const symbol = document.getElementById('symbol').value.trim().toUpperCase();
â€Â  const tradeType = document.getElementById('tradeType').value;
â€Â  const digitInput = document.getElementById('digit').value;
â€Â  const needDigit = (tradeType === 'matches' || tradeType === 'differs' || tradeType === 'over' || tradeType === 'under');
â€
â€Â  if(!token || !symbol){
â€Â Â Â  alert('Enter both API token and symbol (e.g. R_75).');
â€Â Â Â  return;
â€Â  }
â€Â  if(needDigit){
â€Â Â Â  if(digitInput === '' || isNaN(digitInput) || digitInput < 0 || digitInput > 9){
â€Â Â Â Â Â  alert('Enter a digit 0â€“9 for the selected trade type.');
â€Â Â Â Â Â  return;
â€Â Â Â  }
â€Â  }
â€
â€Â  // create websocket, request ticks_history count=10, then close
â€Â  const ws = new WebSocket('wss://ws.derivws.com/websockets/v3?app_id=1089');
â€
â€Â  ws.onopen = () => {
â€Â Â Â  // authorize then request the latest 10 ticks
â€Â Â Â  ws.send(JSON.stringify({ authorize: token }));
â€Â Â Â  ws.send(JSON.stringify({ ticks_history: symbol, count: 10, end: 'latest' }));
â€Â  };
â€
â€Â  ws.onmessage = (ev) => {
â€Â Â Â  try {
â€Â Â Â Â Â  const data = JSON.parse(ev.data);
â€
â€Â Â Â Â Â  if(data.error){
â€Â Â Â Â Â Â Â  document.getElementById('result').innerText = 'API Error: ' + JSON.stringify(data.error);
â€Â Â Â Â Â Â Â  ws.close();
â€Â Â Â Â Â Â Â  return;
â€Â Â Â Â Â  }
â€
â€Â Â Â Â Â  if(data.history && Array.isArray(data.history.prices) && data.history.prices.length > 0){
â€Â Â Â Â Â Â Â  // Deriv returns prices array â€” we assume index 0 is the latest tick (most recent).
â€Â Â Â Â Â Â Â  const prices = data.history.prices.slice(0, 10); // may be <=10
â€Â Â Â Â Â Â Â  // Convert to last digits (0-9)
â€Â Â Â Â Â Â Â  const digits = prices.map(p => {
â€Â Â Â Â Â Â Â Â Â  const s = String(p);
â€Â Â Â Â Â Â Â Â Â  return parseInt(s.charAt(s.length - 1));
â€Â Â Â Â Â Â Â  });
â€
â€Â Â Â Â Â Â Â  // digits[0] is latest tick's last digit
â€Â Â Â Â Â Â Â  const latestDigit = digits[0];
â€
â€Â Â Â Â Â Â Â  // Build frequency counts
â€Â Â Â Â Â Â Â  const counts = {};
â€Â Â Â Â Â Â Â  digits.forEach(d => counts[d] = (counts[d] || 0) + 1);
â€
â€Â Â Â Â Â Â Â  // Determine Most Appearing: max count; if tie choose the one that appeared most recently among ties
â€Â Â Â Â Â Â Â  let maxCount = 0;
â€Â Â Â Â Â Â Â  for(const d in counts) if(counts[d] > maxCount) maxCount = counts[d];
â€
â€Â Â Â Â Â Â Â  // candidates with maxCount
â€Â Â Â Â Â Â Â  const candidates = Object.keys(counts).filter(k => counts[k] === maxCount).map(x => parseInt(x));
â€
â€Â Â Â Â Â Â Â  // choose most recent candidate: find smallest index in digits array
â€Â Â Â Â Â Â Â  let mostAppearing = candidates[0];
â€Â Â Â Â Â Â Â  let bestIdx = digits.length;
â€Â Â Â Â Â Â Â  candidates.forEach(c => {
â€Â Â Â Â Â Â Â Â Â  const idx = digits.indexOf(c); // indexOf returns first occurrence (latest if index0 latest)
â€Â Â Â Â Â Â Â Â Â  if(idx !== -1 && idx < bestIdx){
â€Â Â Â Â Â Â Â Â Â Â Â  bestIdx = idx;
â€Â Â Â Â Â Â Â Â Â Â Â  mostAppearing = c;
â€Â Â Â Â Â Â Â Â Â  }
â€Â Â Â Â Â Â Â  });
â€
â€Â Â Â Â Â Â Â  // Determine Last Appearing (unique -> count === 1). If multiple, pick the one that appeared most recently.
â€Â Â Â Â Â Â Â  const uniques = Object.keys(counts).filter(k => counts[k] === 1).map(x => parseInt(x));
â€Â Â Â Â Â Â Â  let lastAppearing = null;
â€Â Â Â Â Â Â Â  if(uniques.length > 0){
â€Â Â Â Â Â Â Â Â Â  let bestUIdx = digits.length;
â€Â Â Â Â Â Â Â Â Â  uniques.forEach(u => {
â€Â Â Â Â Â Â Â Â Â Â Â  const idx = digits.indexOf(u);
â€Â Â Â Â Â Â Â Â Â Â Â  if(idx !== -1 && idx < bestUIdx){
â€Â Â Â Â Â Â Â Â Â Â Â Â Â  bestUIdx = idx;
â€Â Â Â Â Â Â Â Â Â Â Â Â Â  lastAppearing = u;
â€Â Â Â Â Â Â Â Â Â Â Â  }
â€Â Â Â Â Â Â Â Â Â  });
â€Â Â Â Â Â Â Â  } else {
â€Â Â Â Â Â Â Â Â Â  // fallback: no uniques -> show latest digit
â€Â Â Â Â Â Â Â Â Â  lastAppearing = latestDigit;
â€Â Â Â Â Â Â Â  }
â€
â€Â Â Â Â Â Â Â  // Format sequence for display: show most recent -> oldest
â€Â Â Â Â Â Â Â  const seqStr = digits.map((d,i) => `${d}${i===0? ' (latest)':''}`).join('Â  ');
â€
â€Â Â Â Â Â Â Â  // Check trade type vs latestDigit
â€Â Â Â Â Â Â Â  let tradeResult = '';
â€Â Â Â Â Â Â Â  const chosenDigit = needDigit ? parseInt(digitInput) : null;
â€Â Â Â Â Â Â Â  switch(tradeType){
â€Â Â Â Â Â Â Â Â Â  case 'matches':
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = (latestDigit === chosenDigit) ? 'âœ… Matches' : 'âŒ No Match';
â€Â Â Â Â Â Â Â Â Â Â Â  break;
â€Â Â Â Â Â Â Â Â Â  case 'differs':
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = (latestDigit !== chosenDigit) ? 'âœ… Differs' : 'âŒ Same';
â€Â Â Â Â Â Â Â Â Â Â Â  break;
â€Â Â Â Â Â Â Â Â Â  case 'over':
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = (latestDigit > chosenDigit) ? 'âœ… Over' : 'âŒ Not Over';
â€Â Â Â Â Â Â Â Â Â Â Â  break;
â€Â Â Â Â Â Â Â Â Â  case 'under':
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = (latestDigit < chosenDigit) ? 'âœ… Under' : 'âŒ Not Under';
â€Â Â Â Â Â Â Â Â Â Â Â  break;
â€Â Â Â Â Â Â Â Â Â  case 'even':
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = (latestDigit % 2 === 0) ? 'âœ… Even' : 'âŒ Odd';
â€Â Â Â Â Â Â Â Â Â Â Â  break;
â€Â Â Â Â Â Â Â Â Â  case 'odd':
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = (latestDigit % 2 !== 0) ? 'âœ… Odd' : 'âŒ Even';
â€Â Â Â Â Â Â Â Â Â Â Â  break;
â€Â Â Â Â Â Â Â Â Â  default:
â€Â Â Â Â Â Â Â Â Â Â Â  tradeResult = 'Unknown trade type';
â€Â Â Â Â Â Â Â  }
â€
â€Â Â Â Â Â Â Â  // Update UI
â€Â Â Â Â Â Â Â  document.getElementById('result').innerHTML =
â€Â Â Â Â Â Â Â Â Â  `Latest digit: <strong>${latestDigit}</strong> â€” ${tradeResult}`;
â€Â Â Â Â Â Â Â  document.getElementById('stats').innerText =
â€Â Â Â Â Â Â Â Â Â  `Most Appearing (last 10): ${mostAppearing} (Ã—${maxCount})Â  |Â  Last Appearing (unique-most-recent): ${lastAppearing}`;
â€Â Â Â Â Â Â Â  document.getElementById('sequence').innerText = `Last ${digits.length} digits (most recent â†’ oldest):\n` + seqStr;
â€
â€Â Â Â Â Â Â Â  ws.close();
â€Â Â Â Â Â  }
â€Â Â Â  } catch(err){
â€Â Â Â Â Â  document.getElementById('result').innerText = 'Parse error: ' + err.message;
â€Â Â Â Â Â  ws.close();
â€Â Â Â  }
â€Â  };
â€
â€Â  ws.onerror = (e) => {
â€Â Â Â  document.getElementById('result').innerText = 'WebSocket error: ' + (e.message || 'connection error');
â€Â  };
â€}
â€
â€/* initialize UI state */
â€onTradeTypeChange();
â€</script>
â€</body>
â€</html>
â€
